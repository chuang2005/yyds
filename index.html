<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>æˆ‘çš„ Python çˆ±å¿ƒä»£ç </title>
    <style>
        body {
            font-family: "Microsoft Yahei", sans-serif;
            background-color: #f0f0f0;
            padding: 20px;
        }
        h1 {
            color: #ff69b4;
            text-align: center;
        }
        pre {
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            overflow-x: auto;
            font-family: "Consolas", "Monaco", monospace;
            line-height: 1.5;
        }
    </style>
</head>
<body>
    <h1>æˆ‘çš„ Python çˆ±å¿ƒä»£ç  ğŸ’–</h1>
    <pre>
import tkinter as tk
import time
import random
import math

# é…ç½®å‚æ•°
POPUP_WIDTH = 150
POPUP_HEIGHT = 60
SPAWN_DELAY = 0.08  # æ¯ä¸ªå¼¹çª—çš„é—´éš”æ—¶é—´ï¼ˆç§’ï¼‰
HEART_SCALE = 25    # å¿ƒå½¢å¤§å°ç¼©æ”¾
HEART_OFFSET_Y = -100  # å¿ƒå½¢åœ¨å±å¹•ä¸Šçš„å‚ç›´åç§»

# éšæœºæç¤ºè¯­å’ŒèƒŒæ™¯è‰²
æç¤º = [
    "è®°å¾—åƒæ°´æœ", "ä¿æŒå¾®ç¬‘", "å¤šå–æ°´", "æ—©ç‚¹ç¡",
    "åˆ«ç†¬å¤œ", "å¤šè¿åŠ¨", "å¼€å¿ƒä¸€ç‚¹", "ä½ è¶…æ£’çš„",
    "çˆ±è‡ªå·±", "ä»Šå¤©ä¹Ÿè¦åŠ æ²¹", "æƒ³ä½ äº†", "520"
]

bg_colors = [
    "#ff69b4", "#ffc0cb", "#ff69b4", "#ff1493",
    "#ff69b4", "#ff69b4", "#ffb6c1", "#ff69b4",
    "#ffdab9", "#ff69b4", "#ff69b4", "#ffb6c1"
]

def heart_x(t, size=HEART_SCALE):
    # è¿”å›å¤§å° * (16 * (sin(t) ** 3))
    return size * (16 * (math.sin(t) ** 3))

def heart_y(t, size=HEART_SCALE):
    # è¿”å› -å¤§å° * (13 * math.cos(t) - 5 * math.cos(2*t) - 2 * math.cos(3*t) - math.cos(4*t))
    return -size * (13 * math.cos(t) - 5 * math.cos(2*t) - 2 * math.cos(3*t) - math.cos(4*t))

def generate_heart_points():
    """ç”Ÿæˆçˆ±å¿ƒå½¢çŠ¶çš„åæ ‡ç‚¹"""
    points = []
    t = 0
    while t < 2 * math.pi:
        x = heart_x(t)
        y = heart_y(t)
        points.append((x, y))
        t += 0.01
    return points

# è·å–å±å¹•å°ºå¯¸
root = tk.Tk()
root.withdraw()  # éšè—ä¸»çª—å£
screen_width = root.winfo_screenwidth()
screen_height = root.winfo_screenheight()
center_x = screen_width // 2
center_y = screen_height // 2

# ç”Ÿæˆçˆ±å¿ƒåæ ‡
heart_points = generate_heart_points()

# ä¸»å¾ªç¯ï¼šæŒ‰çˆ±å¿ƒè½¨è¿¹å¼¹å‡ºçª—å£
for (dx, dy) in heart_points:
    # éšæœºé€‰æ‹©æç¤ºè¯­å’ŒèƒŒæ™¯è‰²
    text = random.choice(æç¤º)
    bg = random.choice(bg_colors)
    
    # åˆ›å»ºå¼¹çª—
    popup = tk.Toplevel()
    popup.title("")
    popup.geometry(f"{POPUP_WIDTH}x{POPUP_HEIGHT}")
    popup.config(bg=bg)
    
    # çª—å£ä½ç½®ï¼šå±å¹•ä¸­å¿ƒ + çˆ±å¿ƒåç§» + è½¨è¿¹åç§»
    x = center_x + int(dx) - POPUP_WIDTH // 2
    y = center_y + HEART_OFFSET_Y + int(dy) - POPUP_HEIGHT // 2
    popup.geometry(f"+{x}+{y}")
    
    # æ·»åŠ æ–‡æœ¬æ ‡ç­¾
    label = tk.Label(popup, text=text, bg=bg, fg="white", font=("Microsoft Yahei", 12, "bold"))
    label.pack(expand=True)
    
    # åˆ·æ–°å¹¶çŸ­æš‚åœç•™
    popup.update()
    time.sleep(SPAWN_DELAY)

# æœ€åæ˜¾ç¤ºä¸€ä¸ªå¤§çš„çˆ±å¿ƒçª—å£
final_popup = tk.Toplevel()
final_popup.title("")
final_popup.geometry("300x200")
final_popup.config(bg="#ff1493")
final_label = tk.Label(final_popup, text="â¤ï¸ çˆ±ä½  â¤ï¸", bg="#ff1493", fg="white", font=("Microsoft Yahei", 24, "bold"))
final_label.pack(expand=True)
final_popup.geometry(f"+{center_x - 150}+{center_y - 100}")
final_popup.mainloop()
    </pre>
</body>
</html>
